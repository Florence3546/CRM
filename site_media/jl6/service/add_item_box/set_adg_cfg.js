define("jl6/site_media/service/add_item_box/set_adg_cfg",["jl6/site_media/plugins/artTemplate/template"],function(e){"use strict";var t=function(t){var i={avg_price:1,default_price_pc:1,default_price_yd:1,min_price:.05,opt_adgroup:!1,suggest_price:"1.00~2.00",use_camp_limit:1,mnt_opt_type:1,customer_price_pc:1,customer_price_yd:1,onChange:function(){}};i=$.extend({},i,t);var n,r,a='\r\n<div class="modal fade" tabindex="-1" role="dialog" aria-hidden="true" id="modal_set_adg_cfg" >\r\n    <div class="modal-dialog">\r\n      <div class="modal-content" style="width: 680px; margin-left: 50%; left: -340px;">\r\n         <div class="modal-header">\r\n            <button type="button" class="close"\r\n               data-dismiss="modal" aria-hidden="true">\r\n                  &times;\r\n            </button>\r\n            <h4 class="modal-title b f16">\r\n               <strong>宝贝托管设置</strong>\r\n            </h4>\r\n         </div>\r\n         <div class="modal-body f13">\r\n             <table>\r\n                 <tr>\r\n                     <td><strong>算法优化方式：</strong></td>\r\n                     <td>\r\n                         <div class="select">\r\n                             <span class="select_div">\r\n                                 <input type="radio" name="mnt_opt_type" {{ if options.mnt_opt_type==1 }}checked{{ /if }} value="1">&nbsp;自动优化(改价&nbsp;+&nbsp;选词)&nbsp;\r\n                             </span>\r\n                             <i class="iconfont poi" data-toggle="tooltip" data-placement="right" data-trigger="hover" title="" data-original-title="系统会根据您设置的算法目标使用不同的选词和改价算法">&#xe628;</i>\r\n                         </div>\r\n                         <div class="select">\r\n                             <span class="select_div">\r\n                                 <input type="radio" name="mnt_opt_type" {{ if options.mnt_opt_type==2 }}checked{{ /if }} value="2">&nbsp;只改价(只改价，不选词)\r\n                             </span>\r\n                         </div>\r\n                         {{ if options.opt_adgroup }}\r\n                         <div class="select">\r\n                             <span class="select_div">\r\n                                 <input type="radio" name="mnt_opt_type" {{ if options.mnt_opt_type==0 }}checked{{ /if }} value="0">&nbsp;不托管(不改价，不换词)\r\n                             </span>\r\n                          </div>\r\n                         {{ /if }}\r\n                     </td>\r\n                 </tr>\r\n                 <tr>\r\n                     <td class="pt10">\r\n                         <strong>关键词最高限价(元):&nbsp;</strong>\r\n                     </td>\r\n                     <td class="pt10">\r\n                         <div class="select">\r\n                             <span class="select_div">\r\n                                 <input type="radio" name="use_camp_limit" {{ if options.camp_limit==1 }}checked {{ /if }} value="1">&nbsp;计划默认设置\r\n                             </span>\r\n                             PC：<span class="mnt_default_price">{{ options.default_price_pc }}</span>元&nbsp;&nbsp;\r\n                             移动：<span class="mnt_default_price">{{ options.default_price_yd }}</span>元\r\n                         </div>\r\n                         <div class="select">\r\n                             <span class="select_div">\r\n                                 <input type="radio" name="use_camp_limit" {{ if options.camp_limit==0 }}checked {{ /if }} value="0">&nbsp;自定义设置&nbsp;\r\n                                 <i class="iconfont poi" data-toggle="tooltip" data-placement="right" data-trigger="hover" title="最高限价不是实际出价，设置高一点有利于提升投放效果" >&#xe628;</i>&nbsp;\r\n                                 (推荐<span class="suggest_price">{{ options.suggest_price }}</span>元，最低<span class="min_price">{{ options.min_price }}</span>元，\r\n                                 <span class="poi" data-toggle="tooltip" data-placement="top" data-trigger="hover"\r\n                                       data-original-title="该宝贝行业均价{{ options.avg_price }}元，为保证推广效果，建议重点/无线宝贝限价不低于行<br/>业均价的30%（即{{ options.min_price }}元），推荐为行业均价的2.0~3.0倍，即{{ options.suggest_price }}元">查看规则</span>)<br>\r\n                             </span>\r\n                             <div class="pt10 pl15 set_customer_price  {{ if options.camp_limit==1 }}hide{{ /if }}">\r\n                                PC：<input type="text" maxlength="5" name="customer_price_pc" class="customer_price w50" value="{{ options.customer_price_pc }}"/>&nbsp;&nbsp;&nbsp;\r\n                                移动：<input type="text" maxlength="5" name="customer_price_yd" class="customer_price w50" value="{{ options.customer_price_yd }}"/>&nbsp;\r\n                             </div>\r\n\r\n                         </div>\r\n\r\n                     </td>\r\n                 </tr>\r\n             </table>\r\n         </div>\r\n         <div class="modal-footer tc">\r\n            <button class="btn r" data-dismiss="modal" aria-hidden="true">取消</button>\r\n            <button class="btn btn-primary r mr10" id="set_adg_cfg">确定</button>\r\n         </div>\r\n      </div>\r\n    </div>\r\n</div>\r\n';n=e.compile(a)({options:i}),r=$(n),$("body").append(r),r.modal(),$("[data-toggle='tooltip']").tooltip({html:!0}),$("#modal_set_adg_cfg").on("click","#set_adg_cfg",function(){var e=r.find("[name=customer_price_pc]").val(),n=r.find("[name=customer_price_yd]").val(),a=r.find("[name=mnt_opt_type]:checked").val(),s=r.find("[name=use_camp_limit]:checked").val();if("0"==s){if(isNaN(e))return r.find("[name=customer_price_pc]").tooltip({title:"请输入数字",placement:"top",trigger:"manual"}),r.find("[name=customer_price_pc]").tooltip("show"),setTimeout("javascript: $('[name=customer_price]').tooltip('hide');",5e3),!1;if(e<Number(t.min_price)||e>99.99)return r.find("[name=customer_price_pc]").tooltip({title:"关键词限价最低"+Number(t.min_price)+"元，最高99.99元",placement:"top",trigger:"manual"}),r.find("[name=customer_price_pc]").tooltip("show"),setTimeout("javascript: $('[name=customer_price_pc]').tooltip('hide');",5e3),!1;if(isNaN(n))return r.find("[name=customer_price_yd]").tooltip({title:"请输入数字",placement:"top",trigger:"manual"}),r.find("[name=customer_price_yd]").tooltip("show"),setTimeout("javascript: $('[name=customer_price_yd]').tooltip('hide');",5e3),!1;if(n<Number(t.min_price)||n>99.99)return r.find("[name=customer_price_yd]").tooltip({title:"关键词限价最低"+Number(t.min_price)+"元，最高99.99元",placement:"top",trigger:"manual"}),r.find("[name=customer_price_yd]").tooltip("show"),setTimeout("javascript: $('[name=customer_price_yd]').tooltip('hide');",5e3),!1}else e=i.default_price_pc,n=i.default_price_yd;$("#modal_set_adg_cfg").modal("hide");var p={use_camp_limit:s,mnt_opt_type:a,customer_price_pc:e,customer_price_yd:n};t.onChange(p)}),$("[name=use_camp_limit]").on("change",function(){var e=r.find("[name=use_camp_limit]:checked").val();"0"==e?r.find(".set_customer_price").removeClass("hide"):(r.find("[name=customer_price_pc]").val(i.customer_price_pc),r.find("[name=customer_price_yd]").val(i.customer_price_yd),r.find(".set_customer_price").addClass("hide"))}),r.on("hidden.bs.modal",function(){r.remove()});var s=r.find("[name=use_camp_limit]:checked").val();"0"==s?r.find("[name=customer_price]").attr("disabled",!1):r.find("[name=customer_price]").attr("disabled",!0),r.on("click",".select_div :radio,:checkbox",function(e){e.stopPropagation()}),r.on("click",".select_div",function(){$(this).find(":radio,:checkbox").click()})};return{show:t}});