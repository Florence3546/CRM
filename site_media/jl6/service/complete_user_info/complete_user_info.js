define("jl6/site_media/service/complete_user_info/complete_user_info",["require","jl6/site_media/plugins/artTemplate/template","jl6/site_media/widget/alert/alert","jl6/site_media/widget/lightMsg/lightMsg","jl6/site_media/widget/ajax/ajax","jl6/site_media/widget/vaildata/vaildata"],function(e,l,a,s,i){"use strict";var n,d;n='<div class="modal fade">\n    <div class="modal-dialog" style="width:550px">\n        <div class="modal-content">\n            {{if type=="fill" }}\n	            <div class="modal-header">\n	                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n	                <h4 class="modal-title">完善会员信息</h4>\n	            </div>\n	            <div class="modal-body">\n	                <form class="form-horizontal">\n	                  <div class="form-group">\n	                    <label for="receiver" class="col-sm-2 p0 control-label">会员名称</label>\n	                    <div class="col-sm-6 pr5">\n	                      <input disabled type="text" data-rule="require" class="form-control" id="receiver" name="receiver">\n	                    </div>\n	                    <div class="col-sm-2 p0 red mt5">*</div>\n	                  </div>\n	                  <div class="form-group">\n	                    <label for="receiver_phone" class="col-sm-2 p0 control-label">手机号</label>\n	                    <div class="col-sm-6 pr5">\n	                      <input disabled type="text" data-rule="phone require" class="form-control" id="receiver_phone" name="receiver_phone">\n	                    </div>\n	                    <div class="col-sm-2 p0 red mt5">*</div>\n	                  </div>\n	                  <div class="form-group">\n	                    <label for="qq" class="col-sm-2 p0 control-label">QQ号</label>\n	                    <div class="col-sm-6 pr5">\n	                      <input disabled type="text" class="form-control" id="qq" name="qq">\n	                    </div>\n	                  </div>\n	                  <div class="form-group">\n	                    <label for="zip_code" class="col-sm-2 p0 control-label">邮编</label>\n	                    <div class="col-sm-6 pr5">\n	                      <input disabled type="text" class="form-control" id="zip_code" name="zip_code">\n	                    </div>\n	                  </div>\n	                  <div class="form-group">\n	                    <label for="receive_address" class="col-sm-2 p0 control-label">收货地址</label>\n	                    <div class="col-sm-8 pr5">\n	                        <textarea disabled class="form-control rsn" rows="3" name="receive_address" id="receive_address"></textarea>\n	                        <p class="mt5">您使用积分兑换时，精灵会根据收货地址寄去礼物哦。</p>\n	                    </div>\n	                  </div>\n	                  <div class="form-group">\n	                    <div class="col-sm-offset-2 col-sm-10">\n	                      <button type="submit" disabled class="btn btn-primary">提交</button>\n	                      <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>\n	                    </div>\n	                  </div>\n	                </form>\n	            </div>\n            {{/if}}\n            \n            {{if type=="exchange" }}\n                <div class="modal-header">\n                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n                    <h4 class="modal-title  red">请确认以下信息</h4>\n                </div>\n                <div class="modal-body">\n                    <form class="form-horizontal">\n                      <div class="form-group">\n                        <label for="receiver" class="col-sm-2 p0 control-label">会员名称</label>\n                        <div class="col-sm-6 pr5">\n                          <input disabled type="text" data-rule="require" class="form-control" id="receiver" name="receiver">\n                        </div>\n                        <div class="col-sm-2 p0 red mt5">*</div>\n                      </div>\n                      <div class="form-group">\n                        <label for="receiver_phone" class="col-sm-2 p0 control-label">手机号</label>\n                        <div class="col-sm-6 pr5">\n                          <input disabled type="text" data-rule="phone require" class="form-control" id="receiver_phone" name="receiver_phone">\n                        </div>\n                        <div class="col-sm-2 p0 red mt5">*</div>\n                      </div>\n                      <div class="form-group">\n                        <label for="qq" class="col-sm-2 p0 control-label">QQ号</label>\n                        <div class="col-sm-6 pr5">\n                          <input disabled type="text" class="form-control" id="qq" name="qq">\n                        </div>\n                      </div>\n                      <div class="form-group">\n                        <label for="zip_code" class="col-sm-2 p0 control-label">邮编</label>\n                        <div class="col-sm-6 pr5">\n                          <input disabled type="text" data-rule="require" class="form-control" id="zip_code" name="zip_code">\n                        </div>\n                        <div class="col-sm-2 p0 red mt5">*</div>\n                      </div>\n                      <div class="form-group">\n                        <label for="receive_address" class="col-sm-2 p0 control-label">收货地址</label>\n                        <div class="col-sm-8 pr5">\n                            <textarea disabled class="form-control rsn" data-rule="require" rows="3" name="receive_address" id="receive_address"></textarea>\n                            <p class="mt5">您使用积分兑换时，精灵会根据收货地址寄去礼物哦。</p>\n                        </div>\n                        <div class="col-sm-2 p0 red mt5">*</div>\n                      </div>\n                      <div class="form-group">\n                        <div class="col-sm-offset-2 col-sm-10">\n                          <button type="submit" disabled class="btn btn-primary">提交</button>\n                          <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>\n                        </div>\n                      </div>\n                    </form>\n                </div>\n            {{/if}}\n            \n            \n        </div>\n    </div>\n</div>\n';var o=function(e){var a,o={callBack:function(){}};e=$.extend({},o,e),a=l.compile(n)(e),d=$(a),$("body").append(d),d.find("form").vaildata({placement:"right",callBack:function(){var l,a,n,o,r;l=$("#receiver").val(),a=$("#receiver_phone").val(),n=$("#receive_address").val(),o=$("#zip_code").val(),r=$("#qq").val(),i.ajax("perfect_info",{phone:a,receiver:l,receive_address:n,zip_code:o,qq:r},function(){s.show("更新成功"),e.callBack&&e.callBack()}),d.modal("hide")}}),d.on("show.bs.modal",function(){i.ajax("user_info",{},function(e){$("#receiver").val(e.info_dict.receiver),$("#receiver_phone").val(e.info_dict.phone),$("#receive_address").val(e.info_dict.receive_address),$("#zip_code").val(e.info_dict.zip_code),$("#qq").val(e.info_dict.qq)}),d.find("[disabled]").removeAttr("disabled")}),d.on("hidden.bs.modal",function(){d.remove()}),d.modal()};return{show:o}});