define("jl6/site_media/widget/scrollBar/scrollBar",["require","jl6/site_media/plugins/jquery-mousewheel/jquery.mousewheel.min"],function(){"use strict";var t=function(t){this.$element=$(t),this.options=$.extend({},this.$element.data()),this.show()};t.prototype={constructor:t,show:function(){return this.get_info(),this.scroll_h<=0?(this.hide(),!1):(this.addScrollBarDom(),this.setScrollBar(),this.changeClass(),void this.addEvent())},hide:function(){this.$element.data().scrollBar&&this.$element.find(".scroll-bar-box").remove(),this.target.removeAttr("style"),this.$element.off("mousewheel.Bootstrap.api")},get_info:function(){this.target=$(this.options.target),this.chird_h=this.target.height(),this.chird_t=Number(this.target.css("top").replace("px",""))||0,this.h=this.$element.outerHeight(),this.scroll_h=this.chird_h-this.h},changeClass:function(){$(this.options.target).css({position:"absolute"}),this.$element.css({position:"relative"})},addEvent:function(){var t=this,e=this.$element.find(".scroll-bar"),s=this.$element.find(".scroll-bar-box");this.scrollBarBoxH=s.height(),this.$element.off("mousewheel.Bootstrap.api").on("mousewheel.Bootstrap.api",function(s){var i=Number(t.target.css("top").replace("px",""))||0,o=i+20*s.deltaY;return Math.abs(o)>t.scroll_h&&(o=t.scroll_h*s.deltaY),s.deltaY>0&&o>0&&(o=0),t.target.css({top:o}),e.css("marginTop",Math.max(-o/t.chird_h*t.scrollBarBoxH-2,2)),t.target.trigger("scroll",[-o,t.scroll_h]),s.deltaY>0&&0===o||s.deltaY<0&&Math.abs(o)===t.scroll_h?!0:(s.stopPropagation(),void s.preventDefault())}),this.$element.on("mouseover",function(){s.css("visibility","visible")}),this.$element.on("mouseout",function(){s.css("visibility","hidden")})},setScrollBar:function(){var t,e=this,s=this.$element.find(".scroll-bar"),i=this.$element.find(".scroll-bar-box");s.css("height",100*this.h/this.chird_h+"%"),this.initscrollBarBoxH=i.offset().top,this.scrollBarH=s.height(),this.maxScrollH=i.height()-this.scrollBarH,s.css("marginTop",-this.chird_t/this.chird_h*this.h),s.on("mousedown",function(t){return e.initscrollBarH=t.offsetY,e.scrollBarHodle=!0,!1}),$(document).on("mouseup",function(){return e.scrollBarHodle=!1,!1}),$(document).on("mousemove",function(i){e.scrollBarHodle&&(t=i.pageY-e.initscrollBarH-e.initscrollBarBoxH,2>t&&(t=2),t>e.maxScrollH&&(t=e.maxScrollH-2),s.css("marginTop",t),e.target.css({top:-(t/e.scrollBarH)*e.h}),e.target.trigger("scroll",[t/e.scrollBarH*e.h,e.scroll_h]))})},addScrollBarDom:function(){var t=document.createElement("div");t.className="scroll-bar-box",t.innerHTML='<div class="scroll-bar"></div>',this.$element[0].appendChild(t)}},$.fn.scrollBar=function(e){return this.each(function(){var s=$(this),i=s.data("scrollBar"),o=$.extend({},s.data(),"object"==typeof e&&e);i||s.data("scrollBar",i=new t(this,o)),"string"==typeof e&&i[e]()})}});