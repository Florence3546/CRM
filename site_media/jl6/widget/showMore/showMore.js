define("jl6/site_media/widget/showMore/showMore",["jl6/site_media/plugins/artTemplate/template","jl6/site_media/plugins/jquery/jquery.min"],function(t,n){"use strict";var e=n("[data-toggle=show_more]"),a='<div class="dropdown-menu show_more_modal">\n    <div class="alert alert-info"><i class="iconfont">&#xe608;</i>建议：选择4-6列便于浏览</div>\n    <div class="content">\n        <div class="choose">\n            <p>选择度量</p>\n            <ul>\n                {{each data as value index}}\n                <li><label><input type="checkbox" {{if value[1]}}checked{{/if}} value="{{value[2]}}">{{value[0]}}</label></li>\n                {{/each}}\n            </ul>\n        </div>\n\n        <div class="list">\n            <p>列表</p>\n            <ul>\n                {{each data as value index}}\n                    <li data-name="{{value[2]}}" {{if !value[1]}}class="hidden"{{/if}}>{{value[0]}}</li>\n                {{/each}}\n            </ul>\n        </div>\n    </div>\n    <button type="button" class="btn btn-primary btn-sm">确定</button>\n    <button type="button" class="btn btn-default btn-sm">取消</button>\n</div>\n',i=function(t){var e=[];return t.find("thead>tr:first th").each(function(){var t=n(this);t.is("[data-active]")&&e.push([n.trim(n(this).text()),n(this).is(":visible"),t.data("active")])}),e},s=function(t){var e=[];return n("input",t).each(function(){e.push([this.value,this.checked])}),e},d=function(t,e){var a=this;n("input",this).on("change",function(){var t=n("[data-name="+n(this).val()+"]",a);this.checked?t.removeClass("hidden"):t.addClass("hidden")}),n(".btn-default",this).on("click",function(){n(t).removeClass("open")}),n(".btn-primary",this).on("click",function(){var i;n(t).removeClass("open"),i=s(a),n(i).each(function(){if(this[0]){var t=n("thead>tr>th",e).index(n("th[data-active="+this[0]+"]",e));this[1]?(n("tr",e).find("th:eq("+t+")").removeClass("hidden"),n("tr",e).find("td:eq("+t+")").removeClass("hidden")):(n("tr",e).find("th:eq("+t+")").addClass("hidden"),n("tr",e).find("td:eq("+t+")").addClass("hidden"))}})})};e.each(function(){n(this).on("click.data.api",function(e){var s,o,l=n(this).parent();e.stopPropagation(),s=n("#"+n(this).data("target")),o=n(t.compile(a)({data:i(s)})),l.find(".show_more_modal").length||(n(this).after(o),d.apply(o,[l,s]),l.find(".show_more_modal").on("click",function(t){t.stopPropagation()})),l.toggleClass("open")})}),n(document).on("click.show_more.hide",function(){e.parent().removeClass("open")})});