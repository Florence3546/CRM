define("jl6/site_media/widget/templateExt/templateExt",["jl6/site_media/plugins/artTemplate/template","jl6/site_media/service/common/common"],function(e,t){e.helper("dateFormat",function(e,t){e=new Date(e);var n={M:e.getMonth()+1,d:e.getDate(),h:e.getHours(),m:e.getMinutes(),s:e.getSeconds(),q:Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};return t=t.replace(/([yMdhmsqS])+/g,function(t,r){var i=n[r];return void 0!==i?(t.length>1&&(i="0"+i,i=i.substr(i.length-2)),i):"y"===r?(e.getFullYear()+"").substr(4-t.length):t})}),e.helper("format",function(e,t){var n=t.split(",");return(e*n[0]/n[1]).toFixed(n[2])}),e.helper("truncate",function(e,n){var r=0;for(var i in e)if(r+=t.true_length(e[i]),r>n)return e.slice(0,i-3)+"...";return e})});